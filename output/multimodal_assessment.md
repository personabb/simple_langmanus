# マルチモーダル性能調査結果

## 1. 問題定義

指定された6種類のモデル（gemini-2.0‑flash、gemini‑1.5‑pro、gpt‑4o‑mini、gpt‑4o、o3‑mini、claude 3.7 sonnet）についてAPI経由でのマルチモーダル入力、すなわち以下のファイル形式に対する入力可能性を評価しました。

- **画像系**: jpg, png, gif, webp, heic形式
- **文書系**: PDF, docs, xlsxl, pptx, CSV, TSV, TEXT, HTML, CSS, JSON

各モデルがこれらの入力ファイルを受け付けるか、また入力可能な場合の特性（入力の正確さ、処理速度、出力の質等）について調査を行いました。

---

## 2. 調査結果のサマリー

### 2.1 Gemini 系

#### gemini-2.0-flash
- **対応状況**: 
  - 画像系: jpg, png, gif, webp は公式ドキュメントによりサポートされる。
  - heic形式: 公式ドキュメントでの言及が少なく、前処理（変換）が必要な可能性あり。
  - 文書系: PDF, docs等はファイルアップロード（Fileオブジェクト経由）の利用が前提と思われ、直接入力可能かはケースバイケース。
- **性能評価**: 高速な応答（TTFTの大幅短縮）と多様なモダリティの同時処理に優れる。

#### gemini-1.5-pro
- **対応状況**:
  - 画像系: 基本的に対応。
  - 文書系: 専用のアップロード手順やMIMEタイプの設定により入力可能と推測されるが、形式ごとの直接サポートは要検証。
- **性能評価**: gemini-2.0と比較すると最新機能は若干劣る可能性ありながら、十分なマルチモーダル対応。

---

### 2.2 GPT‑4o 系

#### gpt-4o-mini / gpt-4o
- **対応状況**:
  - 画像系: jpg, png, gif, webp はbase64エンコード等を使用して入力可能。
  - heic形式: 公式記載が少なく、変換が必要な場合がある。
  - 文書系: PDFや他の文書形式については、直接入力するとエラー（例: 400エラー）となる事例が報告され、基本的にテキスト中心の運用が前提。
- **性能比較**:
  - フル版は広範な用途をカバー、ミニ版は処理速度・トークン効率を重視する設計であり、出力の質に差が出る可能性あり。

---

### 2.3 o3‑mini

- **対応状況**:
  - 画像系: jpg, png, gif, webp の入力に対応。
  - 文書系: 直接の文書入力には限界があり、前処理（例：PDF→テキスト抽出等）を必要とすることが多い。
- **性能評価**: コスト効率と高速性に優れるが、複雑な文書解析には向かない。

---

### 2.4 Claude 3.7 Sonnet

- **対応状況**:
  - 画像系: jpg, png, gif, webp は問題なく利用可能。
  - 文書系: 特にPDFの解析については実績が豊富。docs、xlsxl、pptx、CSVなどに関しては内部での前処理が前提となる可能性がある。
- **性能評価**: 画像・文書解析（特にPDF）に関して高い評価。一方で画像生成などの直接機能は対象外。

---

## 3. 全体的な結論

1. **入力ファイル形式の対応状況**:
   - 画像系 (jpg, png, gif, webp): ほとんどのモデルで標準サポート。
   - heic形式: 多くの場合、事前に他フォーマット（例：jpg）へ変換が必要。
   - 文書系 (PDF, docs, xlsxl, pptx, CSV, TSV, TEXT, HTML, CSS, JSON):
     モデルにより対応状況にばらつきがあり、特にGPT‑4o系およびo3‑miniは入力時に制限が発生する可能性が高い。一方、Claude 3.7 Sonnetは文書解析に優れている。

2. **相対的な性能比較**:
   - **gemini‑2.0-flash**: 多様なモダリティへの同時対応、高速応答
   - **gemini‑1.5-pro**: マルチモーダル対応は十分だが、最新技術ではない
   - **GPT‑4o（フル／mini）**: 画像入力は安定するが、文書系入力に制約があり、mini版では出力の質に差が見られる
   - **o3‑mini**: 画像とテキストの連携に優れるが、複雑な文書入力には対応不可の場合が多い
   - **Claude 3.7 Sonnet**: 特にPDF解析に強く、画像でも一定の性能を保持。文書系フォーマットによっては前処理が必要

---

## 4. 推奨アクション

- **前処理の検討**:
  - heic形式の画像は、変換（例: jpgへの変換）を検討
  - PDFなどの文書は、必要に応じてテキスト抽出などの前処理を実装

- **モデル選定**:
  - 利用ケースに応じ、画像中心であればどのモデルも選択可能
  - 文書解析が要求される場合は、Claude 3.7 Sonnetの利用が有望

- **最新情報の確認**:
  - 各モデルのアップデート情報や公式ドキュメントの変更に注意を払い、運用前に再度確認することを推奨

---

*本ドキュメントは、各モデルのマルチモーダル対応状況の概要および相対的性能比較の結果をまとめたものです。継続的な情報更新が求められます。*
